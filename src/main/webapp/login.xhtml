<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/templates/template-1.0.xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:define name="head">
	<style type="text/css">
.loginZone {
	width: 100%;
	height:100%;
	margin-left: auto;
	margin-right: auto;
	text-align: left;
	
		
}
</style>
<c:set var="pw_redisplay" value="false"></c:set>
<c:if test="${sessionScope.login!=null}"> 
 <c:set target="#{userBean}" property="username" value="#{sessionScope.login}"></c:set>
 <c:set target="#{userBean}" property="password" value="#{sessionScope.pw}"></c:set>
 <c:set var="pw_redisplay" value="true"></c:set>
 <c:set var="login" scope="session" value="null"></c:set>
</c:if> 
</ui:define>
	<ui:define name="prefexedTitle"></ui:define>
	<ui:define name="pageTitle">#{msgs['login.title']}</ui:define>
	
	
	<ui:define name="menu"></ui:define>
	<ui:define name="entete"></ui:define>
	<ui:define name="search"></ui:define>
	<ui:define name="details">
		
			<p:panel styleClass="loginZone" >		
            
				<h:panelGrid columns="3" cellpadding="5" style="height:170px;">				    
					<h:outputLabel value="#{msgs['login.username']}" for="j_username"/>
					<h:inputText id="j_username" value="#{userBean.username}"
						required="true" requiredMessage="#{errorMsgs['cpwin.required']}"  />
					<p:message for="j_username" styleClass="error"/>
					<h:outputLabel value="#{msgs['login.password']}" for="j_password" />
					<h:inputSecret id="j_password" value="#{userBean.password}"
						required="true" requiredMessage="#{errorMsgs['cpwin.required']}" redisplay="#{pw_redisplay}"/>
					<p:message for="j_password" styleClass="error" />
					
					<h:outputLabel></h:outputLabel>
					<h:panelGroup cellpadding="20">
						<p:commandButton id="loginBtn" ajax="false" 
							action="#{userBean.login}" value="#{msgs['login.btn.valider']}" />
						<p:commandButton type="reset" id="retour"  
							value="#{msgs['btn.annuler']}" immediate="true" />
					</h:panelGroup>
					
				</h:panelGrid>			
			</p:panel>
	</ui:define>
</ui:composition>
