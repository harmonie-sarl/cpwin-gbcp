<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-1.0.xhtml">
	<ui:define name="head">
		<style type="text/css">
.indication1 {
	font-size: 10px;
	text-align: left;
	color: #FF0000;
}
</style>
	</ui:define>
	<ui:define name="pageTitle">#{msgs['menu.interface.minefi.2024']}</ui:define>
	<ui:define name="entetePage">
	<ui:include src="./entete2024.xhtml"></ui:include>
	</ui:define>
		<ui:define name="enteteAction">
		<p:commandButton title=" " value="#{msgs['cpwin.btn.afficher']}" 
			update="globalMessage,:enteteForm,:detailsForm:detailsMinefiPanel" immediate="true" actionListener="#{dematBeanv1.search}" disabled="#{!dematBeanv1.requiredDataDone}">

		</p:commandButton>
		<ui:param name="statusRendered" value="true"/>
			</ui:define>
	
	<ui:define name="search">
			

	</ui:define>
	

	<ui:define name="details">


		<p:panel id="detailsMinefiPanel" style="width:100%;">

			<div align="center" style="width: 100%;">

				<h:panelGroup id="btnPanel" rendered="#{dematBeanv1.edition!=null}">
					<p:commandButton title=" " value="#{msgs['btn.enregistrer']}"
						actionListener="#{dematBeanv1.saveDemat}"
						 disabled="#{!dematBeanv1.editable}"
						update="globalMessage,:detailsForm" immediate="true">
					</p:commandButton>
						<p:commandButton disabled="#{dematBeanv1.generateFileDisabled}" 
						immediate="true" title="" 
						value="#{msgs['btn.generer.export']}" 
						update="globalMessage,:detailsForm:btnPanel" 
						actionListener="#{dematBeanv1.generateDematFiles}">
				</p:commandButton>
					<p:commandButton id="exportFile" ajax="false"
						title="#{msgs['btn.enregistrer']}" icon="downloadIcon" 
						disabled="#{!dematBeanv1.exportFileGenerated}">
						<p:fileDownload value="#{dematBeanv1.dematZipFile}" />
					</p:commandButton>
		
					<p:commandButton title=" " value="#{msgs['budget.btn.export']}" rendered="#{dematBeanv1.edition!=null}" immediate="true"
					ajax="false" >
						<p:fileDownload value="#{dematBeanv1.xlsDematBi}" />	
						</p:commandButton>
				</h:panelGroup>

			</div>


			<p:tabView id="ongletsEditionBi" style="width:100%;"
				rendered="#{dematBeanv1.edition!=null}" cache="false">
				<p:tab id="balance" title="#{msgs['balance']}" rendered="#{!dematBeanv1.biPeriod}">
					<ui:include src="./onglets/balance.xhtml" />
				</p:tab>
				<p:tab id="tab2" title="#{msgs['abp']}"  >
					<ui:include src="../editions/onglets/tab2-2024.xhtml" />
				</p:tab>
					<p:tab id="tab3" title="#{msgs['tab3E']}"  rendered="#{dematBeanv1.december}" >
					<ui:include src="./onglets/TAB3E-2024.xhtml" />
				</p:tab>
				
				<p:tab id="tab4" title="#{msgs['efp']}">
					<ui:include src="../editions/onglets/tab4-2024.xhtml" />
				</p:tab>
				
				<p:tab id="tab6" title="#{msgs['tab6']}">
				<ui:include src="./onglets/TAB6-2024.xhtml" />				
				</p:tab>
		
				<p:tab id="abe" title="#{msgs['abe']}"  rendered="#{!dematBeanv1.biPeriod}">
					<ui:include src="./onglets/ABE-2024.xhtml" />
				</p:tab>
				
				<p:tab id="efe" title="#{msgs['efe']}"  rendered="#{!dematBeanv1.biPeriod}">
					<ui:include src="./onglets/EFE-2024.xhtml" />
				</p:tab>
				<p:tab id="tab7e" title="#{msgs['tab7E']}"  rendered="#{!dematBeanv1.biPeriod}">
					<ui:include src="/pages/editions/onglets/tab7-2024.xhtml" />
				</p:tab>
				<p:tab id="tab10" title="#{msgs['tab10.synthese']}"  rendered="#{dematBeanv1.annuelDef}">
					<ui:include src="./onglets/TAB10-2024.xhtml" />
				</p:tab>
			</p:tabView>


		</p:panel>
	</ui:define>
	<ui:define name="dialogs">
		
	</ui:define>
</ui:composition>